<?php

namespace MavenShop\Core;

// Exit if accessed directly 
if ( ! defined( 'ABSPATH' ) ) exit;

class VariationGroupManager extends \Maven\Core\VariationGroupManager{


	private $registry;
	
	public function __construct( ) {

		$this->registry = \MavenShop\Settings\ShopRegistry::instance();
		
		parent::__construct( $this->registry );
		
	}
	
	public function save( \Maven\Core\Domain\VariationGroup $variationGroup ){
		
		if ( ! $variationGroup->getPluginKey() ) 
			$variationGroup->setPluginKey( $this->registry->getPluginKey() );
		 
		
		parent::save( $variationGroup );
	}
	
}

